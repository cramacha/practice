/*
 * Given a string S, find the length of the minimum balanced fragment.
 *
 * If no fragment is available, return -1.
 *
 * Example, aaABaab. Output is 5, "ABaab"
 *
 * Definition of balanced: A fragment should have the lowercase and 
 * corresponding uppercase character for all pairs. The number of repititions 
 * doesnt matter.
 *
 * Another example, azACB, output is -1 because z, C, B dont have their 
 * counterparts.
 * 
 * Assumptions: Alphabet set is [a-z] and [A-Z]
 */

#include <vector>
#include <ctype.h>
#include <string>
#include <iostream>

using namespace std;

int CHARSET_SIZE = 52;

bool
check_pairs(vector<bool> &char_map)
{

}


bool
is_balanced(string &s, int i, int j, vector<bool> &char_map)
{
	int k = 0;
	int l = 0;
	char upper;
	for (k = i; k <=j; k++) {
		if (islower(s[k])
			char_map['a' - s[k]] = true;
		else
			char_map['A' - s[k] + 25] = true;
	}

	return check_pairs(char_map);
}

int
solution(string &s)
{
	int local_min = INT_MAX;
	int global_min = INT_MAX;
	int len = s.size() - 1;
	vector<bool> char_map(CHARSET_SIZE, false);
	for (int i = 0; i < len; i++) {
		for (int j = i + 1; j <= len; j++) {
			if (is_balanced(s, i, j, char_map)) {
				local_min = j - i + 1;
				cout << s.substr(i, j) << endl; 
				global_min = min(local_min, global_min);
			}
		}
	}
	return (global_min == INT_MAX)? -1: global_min;
}

int
main(int argc, char **argv)
{
	string s = "ABaab";
	int min = solution(s);
	cout << "min length = " << min << endl;
	return (0);
}
